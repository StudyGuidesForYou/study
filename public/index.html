<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Class Code</title>
<style>
/* General Reset & Theme */
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family:"Roboto", Arial, sans-serif; background:#0f1116; display:flex; justify-content:center; align-items:center; height:100vh; overflow:hidden; }

/* --- LOGIN SCREEN --- */
.container {
  background:#181a21;
  padding:40px;
  border-radius:16px;
  box-shadow:0 8px 25px rgba(0,0,0,0.6);
  text-align:center;
  width:350px;
  border:1px solid #23262f;
  transition:opacity 0.6s ease;
}

h1 { margin-bottom:25px; font-size:24px; color:#e8eaf0; font-weight:600; }

.code-boxes { display:flex; justify-content:space-between; margin-bottom:15px; }

.code-input {
  width:50px; height:60px; font-size:28px; text-align:center;
  border:2px solid #30333b; border-radius:10px;
  outline:none; color:#f0f0f0; background:#111319;
  transition:all 0.2s; cursor:pointer;
}
.code-input:hover { border-color:#4b75ff; }
.code-input:focus { border-color:#4b75ff; box-shadow:0 0 8px rgba(75,117,255,0.6); background:#161820; }

/* Continue button fresh look */
button {
  width:100%;
  padding:12px;
  font-size:16px;
  border:none;
  border-radius:10px;
  background:#3a7afe;
  color:white;
  cursor:pointer;
  transition:0.3s;
  font-weight:500;
}
button:hover { background:#2f4ac7; box-shadow:0 4px 12px rgba(75,117,255,0.4); }

.spinner { margin-top:20px; width:40px; height:40px; border:4px solid #444; border-top-color:#4a6cf7; border-radius:50%; animation:spin 0.8s linear infinite; display:none; margin-left:auto;margin-right:auto; }
@keyframes spin { from {transform:rotate(0deg);} to {transform:rotate(360deg);} }

#loadedMsg { margin-top:20px; color:#7bff99; font-size:18px; font-weight:600; opacity:0; transition:opacity 0.5s ease; }
#errorMsg { color:#ff4d4d; font-weight:600; margin-top:15px; opacity:0; transition:opacity 0.3s ease; }
@keyframes shake {0%,100%{transform:translateX(0);}25%{transform:translateX(-5px);}50%{transform:translateX(5px);}75%{transform:translateX(-5px);} }
.shake { animation:shake 0.3s; }

/* --- DASHBOARD --- */
#gamesScreen { position:absolute; top:0; left:0; width:100vw; height:100vh; background:#0f1116; color:white; opacity:0; pointer-events:none; transition:opacity 0.8s ease; padding:30px; overflow-y:auto; }

#gamesScreen h2 { font-size:28px; font-weight:700; text-align:center; margin-bottom:30px; color:#f0f0f0; }

.games-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:25px; justify-items:center;
}

.game-card {
  background:#181b22;
  border:1px solid #252933;
  border-radius:12px;
  padding:15px;
  text-align:center;
  cursor:pointer;
  transition:all 0.25s ease;
  width:180px;
}
.game-card:hover { transform:translateY(-5px); border-color:#4b75ff; box-shadow:0 4px 15px rgba(75,117,255,0.3); }
.game-card img { width:100%; height:110px; object-fit:cover; border-radius:10px; margin-bottom:10px; }
.game-card p { font-size:15px; color:#e0e0e0; font-weight:500; }

/* --- GAME MODAL --- */
#gameModal {
  position:fixed; top:50%; left:50%; transform:translate(-50%, -50%) scale(0);
  background:#101217; border-radius:15px;
  width:95vw; height:90vh;
  z-index:1000; display:flex; flex-direction:column;
  transition:transform 0.3s ease; overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,0.7);
}
#gameModal.active { transform:translate(-50%, -50%) scale(1); }

#gameFrameContainer { flex:1; position:relative; overflow:auto; }
#gameFrame { width:100%; height:100%; border:none; background:#000; transform:scale(0.98); transform-origin:top center; }

/* Bottom bar with fullscreen & link */
.game-controls {
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 20px; background:#181b22; border-top:1px solid #252933;
}
.game-controls button {
  width:auto; padding:8px 14px; font-size:14px;
  background:#3a7afe; color:white; border:none; border-radius:8px; cursor:pointer; transition:0.2s;
}
.game-controls button:hover { background:#2f4ac7; }

/* Overlay */
#overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); opacity:0; pointer-events:none; transition:opacity 0.3s ease; z-index:900; }
#overlay.active { opacity:1; pointer-events:all; }

/* --- SETTINGS BUTTON --- */
#settingsBtn {
  position:fixed; top:15px; left:15px; width:40px; height:40px;
  background:#3a7afe; border:none; border-radius:50%; cursor:pointer; display:none;
  color:white; font-weight:bold; font-size:18px; transition:all 0.3s ease;
}
#settingsBtn:hover { background:#2f4ac7; transform:scale(1.1); }

/* Settings panel */
#settingsPanel {
  position:fixed; top:60px; left:15px;
  width:250px; background:#181a21; border:1px solid #23262f; border-radius:12px;
  padding:15px; display:none; flex-direction:column; gap:10px;
  box-shadow:0 4px 20px rgba(0,0,0,0.5); transition:all 0.3s ease;
}
#settingsPanel button {
  padding:10px; border:none; border-radius:10px; background:#3a7afe; color:white; cursor:pointer;
  transition:all 0.3s ease;
}
#settingsPanel button:hover { background:#2f4ac7; transform:scale(1.05); }

</style>
</head>
<body>
<!-- CLASS CODE SCREEN -->
<div class="container" id="codeBox">
  <h1>Class Code?</h1>
  <div class="code-boxes">
    <input maxlength="1" class="code-input" id="c1" />
    <input maxlength="1" class="code-input" id="c2" />
    <input maxlength="1" class="code-input" id="c3" />
    <input maxlength="1" class="code-input" id="c4" />
    <input maxlength="1" class="code-input" id="c5" />
  </div>
  <button id="continueBtn" onclick="submitCode()">Continue</button>
  <div id="errorMsg">Incorrect code. Try again.</div>
  <div class="spinner" id="spinner"></div>
  <div id="loadedMsg">Loaded!</div>
</div>

<!-- SETTINGS BUTTON -->
<button id="settingsBtn">âš™</button>
<div id="settingsPanel">
  <button id="signupBtn">Sign Up</button>
  <button id="loginBtn">Log In</button>
  <button id="chatBtn">Chat</button>
</div>

<!-- DASHBOARD -->
<div id="gamesScreen">
  <h2>Browser Game Dashboard</h2>
  <div class="games-grid" id="gamesGrid">
    <!-- Game cards inserted via JS -->
  </div>
</div>

<!-- OVERLAY & MODAL -->
<div id="overlay"></div>
<div id="gameModal">
  <div id="gameFrameContainer">
    <iframe id="gameFrame" src="" allowfullscreen></iframe>
    <div class="game-controls">
      <button id="fullscreenBtn">â›¶ Fullscreen</button>
      <button id="gameLinkBtn">ðŸ”— Game Link</button>
      <button id="closeBtn">âœ• Close</button>
    </div>
  </div>
</div>

<script>
// CLASS CODE
const inputs = document.querySelectorAll('.code-input');
const spinner = document.getElementById("spinner");
const loadedMsg = document.getElementById("loadedMsg");
const codeBox = document.getElementById("codeBox");
const gamesScreen = document.getElementById("gamesScreen");
const errorMsg = document.getElementById("errorMsg");

const settingsBtn = document.getElementById("settingsBtn");
const settingsPanel = document.getElementById("settingsPanel");

const validCodes = ["44157", "82693", "90210"];

inputs.forEach((input,index)=>{
  input.addEventListener('input',()=>{
    if(input.value.length===1 && index<inputs.length-1) inputs[index+1].focus();
  });
  input.addEventListener('keydown',(e)=>{
    if(e.key==='Backspace' && input.value==='' && index>0) inputs[index-1].focus();
    if(e.key==='Enter') submitCode();
  });
});
inputs[0].focus();

function submitCode(){
  let code=Array.from(inputs).map(i=>i.value).join('');
  if(!validCodes.includes(code)){
    errorMsg.style.opacity=1;
    codeBox.classList.add('shake');
    setTimeout(()=>codeBox.classList.remove('shake'),300);
    inputs.forEach(i=>i.value=''); inputs[0].focus();
    return;
  }
  errorMsg.style.opacity=0;
  spinner.style.display="block";
  setTimeout(()=>{
    spinner.style.display="none"; loadedMsg.style.opacity=1;
    setTimeout(()=>{
      codeBox.style.opacity=0;
      setTimeout(()=>{
        codeBox.style.display="none";
        gamesScreen.style.opacity=1; gamesScreen.style.pointerEvents="auto";
        settingsBtn.style.display="block"; // Only show after correct code
      },600);
    },1200);
  },1500);
}

// SETTINGS PANEL TOGGLE
settingsBtn.addEventListener('click',()=>{ 
  settingsPanel.style.display=settingsPanel.style.display==='flex'?'none':'flex';
});

// DASHBOARD GAMES
const gamesList=[
  {name:'2048',img:'https://upload.wikimedia.org/wikipedia/commons/0/09/2048_logo.png',url:'https://play2048.co/'},
  {name:'Slow Roads',img:'https://i.imgur.com/3df4LxE.png',url:'https://slowroads.io/'},
  {name:'Bloxd.io',img:'https://i.imgur.com/IXq3V2y.png',url:'https://bloxd.io/'},
  {name:'Diep.io',img:'https://i.imgur.com/nL6kzUX.png',url:'https://diep.io/'},
  {name:'Sandboxels',img:'https://i.imgur.com/rzITyRG.png',url:'https://sandboxels.r74n.com/'},
  {name:'Jellymar.io',img:'https://i.imgur.com/VbPwcMB.png',url:'https://jellymar.io/'},
  {name:'Chess.com',img:'https://images.chesscomfiles.com/uploads/v1/images_users/tiny_mce/ChessComStaff/phpR9T4kO.png',url:'https://www.chess.com/play'},
  {name:'Invaders',img:'https://i.imgur.com/2Vq6HPO.png',url:'https://inv.nadeko.net/'},
  {name:'GameSnacks',img:'https://i.imgur.com/JkBzCKp.png',url:'https://gamesnacks.com/'},
  {name:'AddictingGames',img:'https://upload.wikimedia.org/wikipedia/commons/0/09/2048_logo.png',url:'https://www.addictinggames.com/'}
];

const gamesGrid=document.getElementById('gamesGrid');
gamesList.forEach(g=>{
  const div=document.createElement('div'); div.className='game-card';
  div.dataset.url=g.url;
  div.innerHTML=`<img src="${g.img}" alt="${g.name}"><p>${g.name}</p>`;
  gamesGrid.appendChild(div);
});

// GAME MODAL
const modal=document.getElementById('gameModal');
const overlay=document.getElementById('overlay');
const gameFrame=document.getElementById('gameFrame');
const fullscreenBtn=document.getElementById('fullscreenBtn');
const closeBtn=document.getElementById('closeBtn');
const gameLinkBtn=document.getElementById('gameLinkBtn');

document.querySelectorAll('.game-card').forEach(card=>{
  card.addEventListener('click',()=>{
    const url=card.dataset.url;
    gameFrame.src=url;
    modal.classList.add('active'); overlay.classList.add('active');
    gameLinkBtn.onclick=()=>window.open(url,'_blank');
  });
});

function closeModal(){
  modal.classList.remove('active'); overlay.classList.remove('active'); gameFrame.src='';
  if(document.fullscreenElement) document.exitFullscreen();
}

closeBtn.addEventListener('click',closeModal);
overlay.addEventListener('click',closeModal);
fullscreenBtn.addEventListener('click',()=>{if(!document.fullscreenElement) modal.requestFullscreen(); else document.exitFullscreen();});
</script>
</body>
</html>
