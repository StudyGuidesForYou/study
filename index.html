<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- TAB TITLE + FAVICON -->
  <title>Home</title>
  <link rel="icon" type="image/png" href="https://ssl.gstatic.com/classroom/favicon.png">

  <style>
    /* Reset & base */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(135deg,#07162b 0%,#08213a 40%,#0b2b4b 100%);
      color:#eaf2ff;
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* GPU hint */
    .frame-box, .sidebar, .topbar, .ctrl-btn, .window { will-change: transform, opacity; }

    /* Particles (behind everything) */
    #particles{position:fixed;inset:0;z-index:0;pointer-events:none}
    .particle{position:absolute;width:6px;height:6px;border-radius:50%;background:rgba(138,176,255,0.08);box-shadow:0 0 12px rgba(138,176,255,0.06)}

    /* Ambient glow that follows the mouse */
    #ambient{
      position:fixed;left:0;top:0;width:420px;height:420px;pointer-events:none;z-index:1;opacity:0;mix-blend-mode:screen;transition:opacity .3s ease;
      background:radial-gradient(circle at center, rgba(138,176,255,0.18) 0%, rgba(10,30,60,0.0) 60%);
      filter:blur(40px);
    }

    /* Sidebar (desktop) */
    .sidebar{
      position:fixed;left:0;top:0;height:100vh;width:72px;padding:14px;z-index:5;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      backdrop-filter:blur(12px);border-right:1px solid rgba(255,255,255,0.04);
      transition:width .32s ease;
    }
    .sidebar:hover{width:220px}
    .sidebar h2{font-size:16px;margin-bottom:10px;letter-spacing:0.2px;opacity:0;color:#dce9ff}
    .sidebar:hover h2{opacity:1}
    .proxy-list{display:flex;flex-direction:column;gap:8px}
    .proxy-btn{display:flex;align-items:center;gap:12px;padding:8px 10px;border-radius:10px;cursor:pointer;background:transparent;color:inherit;border:none;outline:none;transition:transform .12s ease, background .18s}
    .proxy-btn .icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;background:linear-gradient(135deg, rgba(138,176,255,0.12), rgba(90,120,255,0.06));box-shadow:inset 0 -6px 16px rgba(5,10,20,0.18)}
    .proxy-btn .label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:0}
    .sidebar:hover .proxy-btn .label{opacity:1}
    .proxy-btn:hover{transform:translateY(-3px);background:rgba(138,176,255,0.04)}
    .proxy-btn.active{background:linear-gradient(90deg, rgba(138,176,255,0.08), rgba(80,110,240,0.04));box-shadow:0 6px 24px rgba(70,110,255,0.06)}

    /* Main content */
    .main{position:relative;z-index:2;margin-left:72px;height:100vh;padding:20px;display:flex;flex-direction:column;align-items:center}

    /* Topbar */
    .topbar{width:calc(100% - 160px);max-width:1400px;height:60px;margin-top:4px;border-radius:12px;background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;position:relative;border:1px solid rgba(255,255,255,0.04)}
    .stats{display:flex;gap:18px;font-weight:600;letter-spacing:0.6px}
    .top-actions{position:absolute;right:14px;display:flex;gap:10px}
    .ctrl-btn{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:rgba(255,255,255,0.04);transition:transform .15s,box-shadow .15s}
    .ctrl-btn:hover{transform:scale(1.06);box-shadow:0 10px 30px rgba(70,110,255,0.08)}

    /* Frame area */
    .frame-box{width:calc(100% - 120px);max-width:1400px;height:calc(100vh - 150px);margin-top:18px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));border:1px solid rgba(138,176,255,0.06);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}

    /* Neon pulsing border */
    .frame-box::after{content:'';position:absolute;inset:3px;border-radius:14px;pointer-events:none;box-shadow:0 0 0 rgba(138,176,255,0);animation:neon 3s ease-in-out infinite}
    @keyframes neon{0%{box-shadow:0 0 0 rgba(138,176,255,0)}50%{box-shadow:0 0 36px rgba(138,176,255,0.12)}100%{box-shadow:0 0 0 rgba(138,176,255,0)}}

    iframe{width:100%;height:100%;border:0;background:white}

    /* Loader */
    #loader{position:absolute;z-index:10;width:64px;height:64px;border-radius:50%;border:6px solid rgba(255,255,255,0.06);border-top-color:#8ab0ff;animation:spin 1s linear infinite;opacity:0;transform:translateY(-20px);transition:opacity .22s, transform .22s}
    .loading #loader{opacity:1;transform:translateY(0)}

    @keyframes spin{to{transform:rotate(360deg)}}

    /* Windowed mode */
    .window{position:absolute;width:80%;height:76%;left:10%;top:8%;border-radius:12px;background:linear-gradient(180deg, rgba(7,22,43,0.6), rgba(6,18,36,0.65));box-shadow:0 30px 80px rgba(4,12,30,0.6);border:1px solid rgba(138,176,255,0.06);z-index:20;display:flex;flex-direction:column;overflow:hidden;resize:both}
    .win-header{height:44px;display:flex;align-items:center;padding:0 12px;gap:8px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));cursor:grab}
    .win-title{flex:1;font-weight:600}
    .win-controls{display:flex;gap:6px}
    .win-btn{width:34px;height:34px;border-radius:8px;background:rgba(255,255,255,0.03);display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
    .resize-handle{position:absolute;right:6px;bottom:6px;width:18px;height:18px;background:transparent;cursor:se-resize}

    /* Bottom status bar */
    .status-bar{position:fixed;left:72px;right:20px;bottom:12px;height:44px;border-radius:10px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:space-between;padding:0 14px;z-index:8;border:1px solid rgba(255,255,255,0.03)}
    .status-left{display:flex;gap:12px;align-items:center;font-size:13px}
    .status-right{display:flex;gap:12px;align-items:center;font-size:13px}

    /* Mobile: Option C full mobile redesign */
    @media (max-width:760px){
      /* hide desktop sidebar visually (we still keep it in DOM) */
      .sidebar{display:none}

      /* topbar becomes compact with menu button */
      .topbar{width:100%;height:56px;border-radius:0;margin-top:0;padding:8px 12px;justify-content:flex-start}
      .stats{margin-left:8px}
      .top-actions{right:8px}
      .ctrl-btn{width:40px;height:40px}

      /* make iframe area full */
      .main{margin-left:0;padding:8px}
      .frame-box{width:100%;height:calc(100vh - 56px);margin-top:8px;border-radius:0}
      iframe{border-radius:0}

      /* status-bar moved into compact footer or hidden */
      .status-bar{left:8px;right:8px;bottom:8px;height:44px;border-radius:8px}

      /* overlay menu (popup) */
      .mobile-menu-overlay{position:fixed;inset:0;background:linear-gradient(180deg, rgba(3,8,18,0.9), rgba(3,8,18,0.94));z-index:40;display:flex;flex-direction:column;padding:18px;gap:12px}
      .mobile-menu-header{display:flex;align-items:center;justify-content:space-between}
      .mobile-proxy-list{display:flex;flex-direction:column;gap:10px;overflow:auto;padding-top:8px}
      .mobile-proxy-btn{display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;background:rgba(255,255,255,0.02);cursor:pointer}

      /* reduce particle intensity on mobile */
      .particle{display:none}
    }

    /* Small helpers */
    .label-muted{opacity:0.7;font-weight:500}
  </style>
</head>
<body>
  <div id="particles"></div>
  <div id="ambient"></div>

  <!-- Desktop sidebar (hidden on mobile) -->
  <aside class="sidebar" id="sidebar">
    <h2>Proxies</h2>
    <div class="proxy-list" id="proxyList"></div>
  </aside>

  <main class="main">
    <div class="topbar">
      <!-- Mobile menu button (visible on mobile) -->
      <div id="mobileMenuBtn" style="display:none;cursor:pointer;padding:6px;border-radius:8px;background:rgba(255,255,255,0.02);margin-right:8px">‚ò∞</div>

      <div class="stats"><div id="fps">FPS: [ ]</div><div id="ping" style="margin-left:14px">PING: [ ]</div></div>

      <div class="top-actions">
        <div class="ctrl-btn" id="fullscreen" title="Fullscreen">‚õ∂</div>
        <div class="ctrl-btn" id="redirect" title="Open in new tab">‚Üó</div>
        <div class="ctrl-btn" id="windowToggle" title="Windowed Mode">‚ñ£</div>
      </div>
    </div>

    <section class="frame-box" id="frameBox">
      <div id="loader"></div>
      <iframe id="frame" sandbox="allow-same-origin allow-scripts allow-forms allow-popups"></iframe>
    </section>
  </main>

  <!-- Mobile overlay menu (Option C) -->
  <div id="mobileMenu" style="display:none">
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
      <div class="mobile-menu-header">
        <div style="font-weight:700;font-size:18px">Proxies</div>
        <div id="mobileMenuClose" style="cursor:pointer">‚úï</div>
      </div>
      <div class="mobile-proxy-list" id="mobileProxyList"></div>
    </div>
  </div>

  <div class="status-bar" id="statusBar">
    <div class="status-left">
      <div class="label-muted">Status:</div>
      <div id="statusText">Idle</div>
      <div style="width:8px"></div>
      <div class="label-muted">URL:</div>
      <div id="currentURL" style="max-width:360px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap"></div>
    </div>
    <div class="status-right">
      <div id="localTime"></div>
      <div class="label-muted" id="connectionState">Ready</div>
    </div>
  </div>

<script>
// ---------- Proxy list ----------
const proxies = {
  "DayDreamX": "https://study.info.north-kazakhstan.su.cdn.cloudflare.net/",
  "Velera": "https://zearn.buzz.cdn.cloudflare.net/",
  "Truffled": "https://artclasses.buzz.cdn.cloudflare.net/",
  "PeteZah": "https://doggysaresocutevro.vets.co.il/",
  "UniUB v4": "https://hehewkdhdidjd.fabricecosta.com/#home",
  "Rosin": "https://lbbjwojcgm.antrak.org.tr/",
  "Nexus": "https://nexus-is.onthewifi.com/",
  "DogeUB": "https://math.linked8.net/indev",
  "RammerHead": "https://geo.searchgpy.com/"
};

const icons = {
  "DayDreamX":"üåô","Velera":"‚ö°","Truffled":"üé®","PeteZah":"üê∂","UniUB v4":"üèõÔ∏è","Rosin":"üß™","Nexus":"üîó","DogeUB":"üêï","RammerHead":"üõ∞Ô∏è"
}

const proxyList = document.getElementById('proxyList');
const mobileProxyList = document.getElementById('mobileProxyList');
const frame = document.getElementById('frame');
const loader = document.getElementById('loader');
const frameBox = document.getElementById('frameBox');
const statusText = document.getElementById('statusText');
const currentURL = document.getElementById('currentURL');
const redirectBtn = document.getElementById('redirect');
const mobileMenu = document.getElementById('mobileMenu');
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const mobileMenuClose = document.getElementById('mobileMenuClose');

let activeName = null;

function makeButton(name,url){
  const btn = document.createElement('button');
  btn.className = 'proxy-btn';
  btn.innerHTML = `<div class=\"icon\">${icons[name]||'üåê'}</div><div class=\"label\">${name}</div>`;
  btn.onclick = () => switchProxy(name,url,btn);
  return btn;
}

function makeMobileButton(name,url){
  const div = document.createElement('div');
  div.className = 'mobile-proxy-btn';
  div.innerHTML = `<div style=\"width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, rgba(138,176,255,0.08), rgba(90,120,255,0.04));font-size:20px\">${icons[name]||'üåê'}</div><div style=\"flex:1;font-weight:600\">${name}</div>`;
  div.onclick = ()=>{ switchProxy(name,url); closeMobileMenu(); };
  return div;
}

Object.entries(proxies).forEach(([name,url])=>{
  proxyList.appendChild(makeButton(name,url));
  mobileProxyList.appendChild(makeMobileButton(name,url));
});

// ---------- Switch proxy with animated tab change ----------
function switchProxy(name,url,btn){
  // deactive (desktop list)
  Array.from(proxyList.children).forEach(n=>n.classList.remove('active'));
  if(btn) btn.classList.add('active');
  activeName = name;
  statusText.textContent = `Loading ${name}...`;
  currentURL.textContent = url||'';
  showLoader(true);

  // small animated fade-out/in of iframe for tab switch
  frame.style.transition = 'opacity .28s ease';
  frame.style.opacity = '0.12';
  setTimeout(()=>{
    frame.src = url;
    redirectBtn.onclick = ()=>window.open(url,'_blank');
    frame.onload = ()=>{
      frame.style.opacity = '1';
      showLoader(false);
      statusText.textContent = `Loaded ${name}`;
    };
  }, 240);
}

function showLoader(show){ if(show){ frameBox.classList.add('loading'); } else { frameBox.classList.remove('loading'); } }

// auto-select first
const firstBtn = proxyList.querySelector('.proxy-btn');
if(firstBtn) firstBtn.click();

// ---------- Mobile menu handlers ----------
function openMobileMenu(){
  mobileMenu.style.display = 'block';
  mobileMenuBtn.style.display = 'none';
  document.body.style.overflow = 'hidden';
}
function closeMobileMenu(){
  mobileMenu.style.display = 'none';
  mobileMenuBtn.style.display = isMobile()? 'block':'none';
  document.body.style.overflow = '';
}
mobileMenuBtn.addEventListener('click',openMobileMenu);
mobileMenuClose.addEventListener('click',closeMobileMenu);

// ---------- Particles (reduced on mobile) ----------
const particles = document.getElementById('particles');
function spawnParticles(n=28){
  if(isMobile()) n = Math.max(0, Math.min(6, Math.floor(n/6))) ;
  for(let i=0;i<n;i++){
    const p = document.createElement('div');
    p.className='particle';
    const left = Math.random()*100;
    p.style.left = left+'%';
    p.style.top = (90+Math.random()*20)+'%';
    const size = 3+Math.random()*6;
    p.style.width = size+'px'; p.style.height = size+'px';
    particles.appendChild(p);
    const rise = 10+Math.random()*40;
    const dur = 8+Math.random()*12;
    p.animate([{transform:`translateY(0)`,opacity:1},{transform:`translateY(-${rise}vh)`,opacity:0}],{duration:dur*1000,iterations:1,easing:'ease-out'}).onfinish = ()=>p.remove();
  }
}
setInterval(()=>spawnParticles(12),2200);
spawnParticles(36);

// ---------- Ambient glow follow pointer (only on non-touch to save perf) ----------
const ambient = document.getElementById('ambient');
if(!('ontouchstart' in window)){
  window.addEventListener('mousemove',e=>{
    ambient.style.left = (e.clientX-210)+'px';
    ambient.style.top = (e.clientY-210)+'px';
    ambient.style.opacity = 1;
  });
  window.addEventListener('mouseout',()=>ambient.style.opacity=0);
} else {
  // hide ambient on touch devices
  ambient.style.display = 'none';
}

// ---------- FPS counter (optimized) ----------
let fpsLast = performance.now(); let fpsFrames = 0;
function updateFPS(now){
  fpsFrames++;
  if(now - fpsLast >= 1000){ document.getElementById('fps').textContent = `FPS: ${fpsFrames}`; fpsFrames = 0; fpsLast = now; }
  requestAnimationFrame(updateFPS);
}
requestAnimationFrame(updateFPS);

// ---------- Accurate Ping (Image technique) ----------
async function pingHost(){
  return new Promise(resolve=>{
    try{
      const img = new Image();
      const start = performance.now();
      img.onload = img.onerror = ()=>{
        const ms = Math.max(1, Math.round(performance.now()-start));
        document.getElementById('ping').textContent = `PING: ${ms}ms`;
        resolve(ms);
      };
      // randomize to avoid cache
      img.src = 'https://www.google.com/favicon.ico?cachebust=' + Math.random();
    }catch(e){ document.getElementById('ping').textContent = 'PING: --'; resolve(null); }
  });
}
setInterval(()=>{ pingHost(); }, 1500);
pingHost();

// ---------- Status/time ----------
function updateTime(){document.getElementById('localTime').textContent = new Date().toLocaleString();}
setInterval(updateTime,1000); updateTime();

// ---------- Fullscreen ----------
document.getElementById('fullscreen').addEventListener('click',()=>{ if(!document.fullscreenElement) document.documentElement.requestFullscreen(); else document.exitFullscreen(); });

// ---------- Windowed mode (draggable + resizable) with mobile scroll lock ----------
let win = null; const winToggle = document.getElementById('windowToggle');
winToggle.addEventListener('click',()=>{ if(!win) openWindowed(); else closeWindowed(); });

function lockScroll(lock){ document.body.style.overflow = lock ? 'hidden' : ''; }

function openWindowed(){
  win = document.createElement('div'); win.className='window';
  win.style.left = '10%'; win.style.top = '8%';
  win.innerHTML = `<div class="win-header"><div class="win-title">${activeName||'Window'}</div><div class="win-controls"><div class="win-btn" id="dock">Dock</div></div></div><div style="flex:1;overflow:hidden;"><iframe style="width:100%;height:100%;border:0;" src="${frame.src||''}"></iframe></div><div class="resize-handle"></div>`;
  document.body.appendChild(win);
  const header = win.querySelector('.win-header'); header.addEventListener('pointerdown', onDragStart);
  win.querySelector('#dock').addEventListener('click', closeWindowed);
  frame.style.visibility='hidden';
}
function closeWindowed(){ if(!win) return; win.remove(); win=null; frame.style.visibility='visible'; lockScroll(false); }

let dragState=null;
function onDragStart(e){ lockScroll(true); dragState={x:e.clientX,y:e.clientY,left:parseFloat(getComputedStyle(win).left)||0,top:parseFloat(getComputedStyle(win).top)||0}; win.style.cursor='grabbing'; window.addEventListener('pointermove',onDragMove); window.addEventListener('pointerup',onDragEnd); }
function onDragMove(e){ if(!dragState) return; const dx=e.clientX-dragState.x, dy=e.clientY-dragState.y; win.style.left = (dragState.left+dx)+'px'; win.style.top = (dragState.top+dy)+'px'; }
function onDragEnd(){ lockScroll(false); dragState=null; if(win) win.style.cursor='default'; window.removeEventListener('pointermove',onDragMove); window.removeEventListener('pointerup',onDragEnd); }

// ---------- Extra polish: small fades on hover for frameBox ----------
frameBox.addEventListener('mouseenter',()=>frameBox.style.transform='translateY(-6px)'); frameBox.addEventListener('mouseleave',()=>frameBox.style.transform='translateY(0)');

// ---------- graceful iframe errors ----------
frame.addEventListener('error',()=>{showLoader(false);statusText.textContent='Load failed (may block embed)';});

// ---------- Small accessibility: keyboard nav ----------
window.addEventListener('keydown',(e)=>{
  if(e.key==='ArrowRight' || e.key==='ArrowDown'){ const btns = Array.from(proxyList.children); const idx = btns.findIndex(b=>b.classList.contains('active')); const next=btns[(idx+1)%btns.length]; if(next) next.click(); }
  else if(e.key==='ArrowLeft' || e.key==='ArrowUp'){ const btns = Array.from(proxyList.children); const idx = btns.findIndex(b=>b.classList.contains('active')); const prev=btns[(idx-1+btns.length)%btns.length]; if(prev) prev.click(); }
});

// ---------- Mobile detection helpers ----------
function isMobile(){ return window.matchMedia && window.matchMedia('(max-width:760px)').matches; }

// show/hide mobile menu button based on device
function applyMobileUI(){ if(isMobile()){ mobileMenuBtn.style.display='block'; } else { mobileMenuBtn.style.display='none'; mobileMenu.style.display='none'; document.body.style.overflow=''; } }
window.addEventListener('resize',applyMobileUI); applyMobileUI();

// ---------- initial small spawn of particles periodically ----------
setInterval(()=>spawnParticles(6),3500);

</script>
</body>
</html>
