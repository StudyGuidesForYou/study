<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Home</title>
<link rel="icon" href="https://www.gstatic.com/images/branding/product/1x/classroom_48dp.png">

<style>
:root{
  --bg-deep:#040612;
  --bg-mid:#071028;
  --accent-a:#3dd3c7;
  --accent-b:#2b82ff;
  --text:#eaf2ff;
  --muted: rgba(230,235,255,0.48);
  --radius:18px;
  --max-width:1280px;
  --glass: rgba(255,255,255,0.06);
  --glass-strong: rgba(255,255,255,0.12);
  --glass-border: rgba(255,255,255,0.12);
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
}

/* ---------- GLOBAL ---------- */
html,body{
  height:100%;width:100%;margin:0;padding:0;
  background:linear-gradient(180deg,var(--bg-deep),var(--bg-mid));
  color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden; /* changed to scroll on small screens via media query */
  touch-action:manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* ---------- TOP BAR (fixed, glass) ---------- */
.top-wrap{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  top: calc(18px + var(--safe-top));
  width:min(var(--max-width),96%);
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-radius:14px;
  background:var(--glass);
  backdrop-filter:blur(12px) saturate(140%);
  -webkit-backdrop-filter:blur(12px) saturate(140%);
  border:1px solid rgba(255,255,255,0.06);
  z-index:10000;
  transition:all .15s ease;
  box-shadow:0 8px 26px rgba(2,6,18,0.45), inset 0 0 20px rgba(255,255,255,0.02);
}
.top-wrap.compact{
  padding:6px 10px;border-radius:12px;transform:translateX(-50%) scale(0.92);
  gap:8px;top: calc(10px + var(--safe-top));
}

/* url input + button */
.url-input{
  flex:1;padding:10px 14px;border-radius:10px;
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.04);
  color:var(--text);font-size:15px;outline:none;
}
.url-input::placeholder{color:var(--muted)}
.btn-primary{
  padding:10px 14px;border-radius:10px;
  background:linear-gradient(135deg,var(--accent-a),var(--accent-b));
  border:none;color:white;cursor:pointer;font-weight:700;
  min-width:72px;text-align:center;
}

/* ---------- PAGE LAYOUT ---------- */
/* container centers column on desktop, but allows scroll on very small screens */
.container{
  position:fixed;
  inset: calc(94px + var(--safe-top)) 0 calc(112px + var(--safe-bottom)) 0;
  display:flex;justify-content:center;align-items:flex-start;padding:18px;
  pointer-events:auto;
}

/* inner column (centers the embed card) */
.column{
  width:82vw;max-width:1100px;display:flex;flex-direction:column;align-items:stretch;gap:8px;
  margin:0 auto;
}

/* controls row (above embed card) */
.controls-row{
  display:flex;justify-content:flex-end;gap:8px;padding:6px 4px;
}

/* control buttons */
.control{
  padding:9px 12px;border-radius:12px;background:var(--glass);
  border:1px solid var(--glass-border);color:var(--text);cursor:pointer;font-weight:700;
  backdrop-filter:blur(12px);transition:all .16s ease;
  box-shadow:0 6px 18px rgba(2,6,18,0.45);
}
.control:hover{transform:translateY(-3px);box-shadow:0 10px 28px rgba(2,6,18,0.55)}
.control:active{transform:translateY(0) scale(.99)}

/* embed card */
.embed-card{
  width:100%;height:70vh;border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.035);
  box-shadow:0 40px 110px rgba(2,6,18,0.7);
  overflow:hidden;position:relative;display:flex;flex-direction:column;
  backdrop-filter: blur(8px) saturate(120%);
}

/* iframe */
.embed-iframe{width:100%;height:100%;border:0;background:#000;display:block;}

/* loader overlay */
.loader-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(6,10,20,0.22), rgba(6,10,20,0.32));backdrop-filter:blur(8px);opacity:0;pointer-events:none;transition:opacity .18s}
.loader-overlay.visible{opacity:1;pointer-events:auto}
.loader-spinner{width:60px;height:60px;border:6px solid rgba(255,255,255,0.08);border-top-color:var(--accent-b);border-radius:50%;animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* message bubble */
.msg-box{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(6,10,20,0.72);padding:10px 14px;border-radius:12px;color:var(--muted);display:none;border:1px solid rgba(255,255,255,0.02);z-index:40}
.msg-box.visible{display:block}

/* games list bottom */
.games{position:fixed;left:50%;transform:translateX(-50%);bottom:calc(18px + var(--safe-bottom));z-index:9000;width:min(var(--max-width),96%);display:flex;justify-content:center;padding:8px}
.game-list{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.game-btn{
  padding:10px 16px;border-radius:18px;background:rgba(255,255,255,0.06);backdrop-filter:blur(12px) saturate(160%);border:1px solid rgba(255,255,255,0.12);box-shadow:0 4px 18px rgba(0,0,0,0.35);cursor:pointer;color:var(--text);font-weight:700;transition:all .2s ease;
}
.game-btn:hover{background:rgba(255,255,255,0.12);transform:translateY(-2px);box-shadow:0 6px 22px rgba(0,0,0,0.45)}
.game-btn:active{transform:translateY(0);background:rgba(255,255,255,0.09)}

/* ---------- MOBILE / SMALL-SCREEN ADJUSTMENTS ---------- */

/* If the viewport height is small, allow page scroll and adjust sizes gracefully.
   We choose to allow vertical scrolling (Option B) on small/tall devices:
   - body becomes scrollable
   - top bar stays fixed
   - container becomes relative (so it flows in document), enabling scroll
   - games list turns into a horizontal scroller to avoid wrapping
*/
@media (max-height:620px), (max-width:520px){
  html,body{overflow:auto;} /* allow scrolling */
  .container{position:relative;inset:auto;padding:14px 12px 120px 12px} /* flow content so page can scroll */
  .column{width:100%;max-width:100%;margin:0 auto}
  .embed-card{height:58vh} /* shrink iframe a bit to leave room for top bar and games on mobile */
  .top-wrap{left:12px;right:12px;width:auto;transform:none}
  .games{position:static;transform:none;padding:12px 8px 36px 8px;bottom:0;margin-top:10px}
  /* make games horizontally scrollable */
  .game-list{display:flex;gap:10px;overflow:auto;padding-bottom:10px;scroll-behavior:smooth;-webkit-overflow-scrolling:touch}
  .game-btn{flex:0 0 auto}
  /* controls row moves slightly inside column to fit */
  .controls-row{justify-content:flex-end;padding:6px 0}
}

/* tiny device improvements */
@media (max-width:380px){
  .embed-card{height:50vh}
  .url-input{font-size:14px;padding:8px}
  .btn-primary{padding:8px 12px;font-size:14px}
  .control{padding:8px 10px;font-size:13px}
  .game-btn{padding:8px 12px;font-size:13px}
}

/* make sure fullscreen compact top style also plays nicely on mobile fullscreen */
.top-wrap.fullscreen-compact{padding:8px 10px;border-radius:12px;transform:none}
</style>
</head>
<body>

<!-- TOP BAR (outside embed system) -->
<div id="topBar" class="top-wrap" role="region" aria-label="Top controls">
  <input id="urlInput" class="url-input" placeholder="Enter URLâ€¦" aria-label="URL to load" />
  <button id="loadBtn" class="btn-primary" aria-label="Load URL">Load</button>
</div>

<!-- Container (centers column on desktop; flows on mobile) -->
<div class="container" aria-hidden="false">
  <div class="column">
    <!-- controls row sits ABOVE the embed-card (not inside) -->
    <div class="controls-row" id="controlsRow">
      <button id="fullscreenBtn" class="control" title="Fullscreen">Fullscreen</button>
      <button id="redirectBtn" class="control" title="Open in new tab">Redirect</button>
    </div>

    <!-- the embed card -->
    <div id="embedCard" class="embed-card" role="region" aria-label="Embed area">
      <iframe id="embedFrame" class="embed-iframe" src="about:blank"
        sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-modals"
        allow="fullscreen; autoplay; microphone; camera; encrypted-media" title="Embedded content"></iframe>

      <div id="loader" class="loader-overlay" aria-hidden="true">
        <div class="loader-spinner" role="status" aria-label="Loading"></div>
      </div>

      <div id="msgBox" class="msg-box" role="alert" aria-hidden="true"></div>
    </div>
  </div>
</div>

<!-- Games list (kept + merged, unique) -->
<div class="games" aria-label="Games">
  <div class="game-list" role="list">
    <button class="game-btn" data-url="https://slowroads.io">slowroads.io</button>
    <button class="game-btn" data-url="https://bloxd.io">bloxd.io</button>
    <button class="game-btn" data-url="https://diep.io">diep.io</button>
    <button class="game-btn" data-url="https://sandboxels.r74n.com">sandboxels</button>
    <button class="game-btn" data-url="https://jellymar.io">jellymar.io</button>
    <button class="game-btn" data-url="https://gamesnacks.com">gamesnacks</button>
    <button class="game-btn" data-url="https://adarkroom.doublespeakgames.com">adarkroom</button>
    <button class="game-btn" data-url="https://eaglercraft.com">eaglercraft</button>
    <button class="game-btn" data-url="https://ev.io">ev.io</button>
    <button class="game-btn" data-url="https://play.gidd.io">gidd.io</button>
    <button class="game-btn" data-url="https://html5games.com">html5games</button>
    <button class="game-btn" data-url="https://silvergames.com">SilverGames</button>
    <button class="game-btn" data-url="https://nexus-is.onthewifi.com/">Nexus</button>
    <button class="game-btn" data-url="https://zearn.buzz.cdn.cloudflare.net/">Velera</button>
    <button class="game-btn" data-url="https://study.info.north-kazakhstan.su.cdn.cloudflare.net/">DayDreamX</button>
    <button class="game-btn" data-url="https://chejfnreeje.vets.co.il/">PeteZah</button>
  </div>
</div>

<script>
/* ---------- DOM refs ---------- */
const topBar = document.getElementById('topBar');
const urlInput = document.getElementById('urlInput');
const loadBtn = document.getElementById('loadBtn');
const controlsRow = document.getElementById('controlsRow');
const fullscreenBtn = document.getElementById('fullscreenBtn');
const redirectBtn = document.getElementById('redirectBtn');
const embedCard = document.getElementById('embedCard');
const iframe = document.getElementById('embedFrame');
const loader = document.getElementById('loader');
const msgBox = document.getElementById('msgBox');
const column = document.querySelector('.column');

/* ---------- helpers ---------- */
function showLoader(){ loader.classList.add('visible'); loader.setAttribute('aria-hidden','false'); }
function hideLoader(){ loader.classList.remove('visible'); loader.setAttribute('aria-hidden','true'); }
function showMsg(text, timeout=6000){
  msgBox.textContent = text; msgBox.classList.add('visible'); msgBox.setAttribute('aria-hidden','false');
  clearTimeout(msgBox._hide); if(timeout>0) msgBox._hide = setTimeout(()=>{ msgBox.classList.remove('visible'); msgBox.setAttribute('aria-hidden','true'); }, timeout);
}
function normalizeUrl(raw){
  if(!raw) return null;
  raw = raw.trim();
  if(!/^https?:\/\//i.test(raw)) raw = 'https://' + raw;
  try{ return new URL(raw).toString(); }catch(e){ return null; }
}

/* ---------- robust load with timeout & error handling ---------- */
let loadTimer = null;
const LOAD_TIMEOUT = 15000; // 15s
function loadURL(raw){
  const url = normalizeUrl(raw);
  if(!url){ showMsg('Invalid URL'); return; }
  showLoader();
  iframe.src = url;
  if(loadTimer) clearTimeout(loadTimer);
  loadTimer = setTimeout(()=> {
    hideLoader();
    showMsg('Load timed out. Site may block framing. Use Redirect to open directly.',8000);
  }, LOAD_TIMEOUT);
}

/* hide loader on successful load */
iframe.addEventListener('load', ()=>{
  if(loadTimer){ clearTimeout(loadTimer); loadTimer = null; }
  hideLoader();
  try{
    const doc = iframe.contentDocument;
    if(doc && doc.body && doc.body.children.length === 0 && (doc.body.textContent||'').trim().length < 8){
      showMsg('Embedded content loaded but looks empty. Try Redirect.',7000);
    }
  }catch(e){ /* cross-origin normal */ }
});

/* capture iframe errors */
iframe.addEventListener('error', ()=>{
  if(loadTimer){ clearTimeout(loadTimer); loadTimer = null; }
  hideLoader();
  showMsg('Failed to load embed. Use Redirect.',7000);
});

/* ---------- UI wiring ---------- */
loadBtn.addEventListener('click', ()=> loadURL(urlInput.value));
urlInput.addEventListener('keydown', e=>{ if(e.key==='Enter') loadURL(urlInput.value); });

document.querySelectorAll('.game-btn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const url = btn.dataset.url;
    urlInput.value = url;
    loadURL(url);
  });
});

/* Redirect opens in new tab */
redirectBtn.addEventListener('click', ()=>{
  const src = iframe.src;
  if(src && src !== 'about:blank') window.open(src, '_blank');
  else showMsg('No embed loaded',3000);
});

/* ---------- Fullscreen behavior ----------
   - Approach: before entering fullscreen, move topBar INTO the element we fullscreen (column),
     so topBar is part of the fullscreen tree and visible. When leaving fullscreen, move it back.
*/
const origParent = document.body;
let inFullscreen = false;

fullscreenBtn.addEventListener('click', async ()=>{
  // If already in fullscreen -> exit
  if(document.fullscreenElement){
    await document.exitFullscreen();
    return;
  }

  // Move topBar into column so it will be shown in fullscreen element
  column.insertBefore(topBar, column.firstChild);
  topBar.classList.add('compact');

  // request fullscreen on the column (so it contains topBar + embed)
  try{
    await column.requestFullscreen();
  }catch(err){
    // fallback: user agent blocked fullscreen
    showMsg('Fullscreen blocked by browser.',4000);
    // move topBar back
    origParent.insertBefore(topBar, origParent.firstChild);
    topBar.classList.remove('compact');
  }
});

/* When leaving fullscreen, put topBar back */
document.addEventListener('fullscreenchange', ()=>{
  inFullscreen = !!document.fullscreenElement;
  if(!inFullscreen){
    // move topBar back to original top location
    origParent.insertBefore(topBar, origParent.firstChild);
    topBar.classList.remove('compact');
  } else {
    // if in fullscreen, apply a subtle compact look (also helps mobile)
    topBar.classList.add('compact');
  }

  // update fullscreenBtn label
  fullscreenBtn.textContent = inFullscreen ? 'Exit Fullscreen' : 'Fullscreen';
});

/* ---------- Extra mobile niceties ---------- */
/* If user taps the URL input on mobile and keyboard pushes content, ensure iframe stays visible.
   We add a small scroll into view for the embed card on focus to keep content accessible. */
urlInput.addEventListener('focus', ()=>{
  // on small screens, scroll so top of embed is visible after loading
  if(window.innerWidth <= 520 || window.innerHeight <= 620){
    setTimeout(()=>{ document.querySelector('.embed-card')?.scrollIntoView({behavior:'smooth', block:'center'}); }, 250);
  }
});

/* Ensure if column is fullscreen-eligible but user touches outside, topBar still exists. */
window.addEventListener('resize', ()=> {
  // keep layout responsive; no brute-force reposition needed
});

/* end script */
</script>
</body>
</html>
